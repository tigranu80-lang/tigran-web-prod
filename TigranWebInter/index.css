@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base Styles */
body {
  background: #F5F5F0;
  color: #0A0A0A;
  overflow-x: hidden;
}

/* Architectural Grid Pattern */
.bg-grid {
  background-size: 3rem 3rem;
  background-image:
    linear-gradient(to right, rgba(10, 10, 10, 0.07) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(10, 10, 10, 0.07) 1px, transparent 1px);
  mask-image: linear-gradient(to bottom, transparent, black 10%, black 90%, transparent);
}

/* Major Grid Lines */
.bg-grid-major {
  background-size: 12rem 12rem;
  background-image:
    linear-gradient(to right, rgba(10, 10, 10, 0.1) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(10, 10, 10, 0.1) 1px, transparent 1px);
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: #F5F5F0;
}

::-webkit-scrollbar-thumb {
  background: #0A0A0A;
}

::-webkit-scrollbar-thumb:hover {
  background: #262626;
}

/* 3D Transform Utilities */
.perspective-1000 {
  perspective: 1000px;
}

.transform-style-3d {
  transform-style: preserve-3d;
}

/* Animations */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* React Flow Container Fixes */
.react-flow-container {
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 100% !important;
  height: 100% !important;
  margin: 0 !important;
  padding: 0 !important;
}

.react-flow-container .react-flow {
  width: 100% !important;
  height: 100% !important;
  position: relative !important;
}

.react-flow-container .react-flow__renderer {
  width: 100% !important;
  height: 100% !important;
  position: relative !important;
}

/* DON'T OVERRIDE react-flow__pane - it's controlled by ReactFlow */
/* .react-flow-container .react-flow__pane {
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 100% !important;
  height: 100% !important;
  margin: 0 !important;
  padding: 0 !important;
  transform: none !important;
  inset: 0 !important;
} */

/* DON'T OVERRIDE react-flow__viewport transform - it's controlled by ReactFlow for panning/zooming/fitView */
/* .react-flow-container .react-flow__viewport {
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  height: 100% !important;
  transform: translate(0px, 0px) !important;
  margin: 0 !important;
  padding: 0 !important;
} */

/* Remove black border from ReactFlow group node wrapper - keep only colored dashed container */
/* Only remove border from the ReactFlow wrapper itself, not from inner elements */
.react-flow-container .react-flow__node-group {
  border: none !important;
  background: transparent !important;
  box-shadow: none !important;
  outline: none !important;
  padding: 0 !important;
  margin: 0 !important;
}

/* Preserve the dashed border on group-node-container - inline styles will override this */
.react-flow-container .group-node-container {
  /* Border is set via inline style in component, so it will be preserved */
}

/* Ensure handles on group nodes are positioned correctly on edges */
.react-flow-container .react-flow__node-group .react-flow__handle {
  position: absolute !important;
}

/* Make sure source handles are on the right edge */
.react-flow-container .react-flow__node-group .react-flow__handle[data-handlepos="right"] {
  right: 0 !important;
  transform: translate(50%, -50%) !important;
}

/* Make sure target handles are on the left edge or center */
.react-flow-container .react-flow__node-group .react-flow__handle[data-handlepos="left"] {
  left: 0 !important;
  transform: translate(-50%, -50%) !important;
}